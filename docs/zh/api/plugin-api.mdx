import WebpackLicense from '../../../components/webpack-license';

<WebpackLicense
  from={[
    'https://webpack.js.org/api/compiler-hooks/',
    'https://webpack.js.org/api/compilation-hooks/',
  ]}
/>

# Plugin 接口

## Compiler 钩子

### `environment`

`SyncHook<[]>`

在编译器准备环境时，初始化插件之后调用。

### `afterEnvironment`

`SyncHook<[]>`

当编译器环境准备完成后，在 `environment` 钩子后直接调用。

### `afterPlugins`

`SyncHook<[Compiler]>`

在初始化内部插件完成之后调用。

### `afterResolvers`

`SyncHook<[Compiler]>`

resolver 设置完成之后触发。

### `initialize`

`SyncHook<[]>`

当编译器被初始化时调用。

### `beforeRun`

`AsyncSeriesHook<[Compiler]>`

在开始执行一次构建之前调用。

### `run`

`AsyncSeriesHook<[Compiler]>`

在开始执行一次构建时调用。

### `watchRun`

`AsyncSeriesHook<[Compiler]>`

在监听模式下，开始执行一次构建时调用。

### `compile`

`SyncHook<[]>`

在一个新的 compilation 创建之前调用。

### `thisCompilation`

`SyncHook<[Compilation]>`

创建 compilation 时调用，在触发 compilation 钩子之前调用。

### `compilation`

`SyncHook<[Compilation]>`

compilation 创建之后执行。

### `make`

`AsyncParallelHook<[Compilation]>`

make 阶段之前调用。

### `emit`

`AsyncSeriesHook<[Compilation]>`

输出产物之前执行。

### `afterEmit`

`AsyncSeriesHook<[Compilation]>`

输出产物之后执行。

### `done`

`AsyncSeriesHook<Stats>`

在构建完成时执行。

### `afterDone`

`AsyncSeriesHook<Stats>`

在构建完成后，`done` 钩子调用之后执行。

### `watchClose`

`SyncHook<[]>`

在监听模式下，compilation 停止时调用。

### `failed`

`SyncHook<[Error]>`

在构建失败时调用。

## Compilation 钩子

### `processAssets`

`AsyncSeriesHook<[CompilationAssets]>`

在产物输出之前进行修改产物。
