# Mode

The `mode` configuration is used to set the build mode of Rspack to enable the default optimization strategy.

- **Type:**

```ts
type Mode = 'production' | 'development' | 'none';
```

- **Default:** `'production'`

## Usage

You can set the mode directly in `rspack.config.js`:

```ts title="rspack.config.js"
module.exports = {
  mode: 'production',
};
```

In actual scenarios, you can dynamically set the mode according to `process.env.NODE_ENV`:

```ts title="rspack.config.js"
const isProduction = process.env.NODE_ENV === 'production';

module.exports = {
  mode: isProduction ? 'production' : 'development',
};
```

Alternatively, you can set the mode using the `--mode` option on the Rspack CLI:

```bash
rspack --mode=production
```

:::info
`mode` in `rspack.config.js` takes precedence over `--mode` option on the CLI.
:::

## Optional Values

`mode` has the following optional values:

### production

In production mode, Rspack automatically enables the following optimization strategies:

- Replace `process.env.NODE_ENV` in code with `'production'`.
- Set the default value of `optimization.concatenateModules` to `true`.
- Set the default value of `optimization.minimize` to `true` to enable SWC minification.

### development

In development mode, Rspack automatically enables the following optimization strategies:

- Replace `process.env.NODE_ENV` in code with `'development'`.
- Set the default value of `devtool` to `'eval-cheap-source-map'`.
- Set proper naming format for modules and chunks.

### none

When `mode` is set to `'none'`, Rspack will not enable any default optimization strategies.
